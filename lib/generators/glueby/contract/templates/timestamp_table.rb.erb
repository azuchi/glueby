class CreateTimestamp < ActiveRecord::Migration<%= migration_version %>
  def change
    create_table :glueby_timestamps<%= table_options %> do |t|
      t.string   :txid
      t.integer  :status, null: false, default: 0
      t.string   :content_hash
      t.string   :prefix
      t.string   :wallet_id
      t.integer  :timestamp_type, null: false, default: 0
      t.integer :block_height, index: true
      t.integer :block_time, index: true
      t.string   :p2c_address
      t.string   :payment_base
      t.bigint   :prev_id
      t.boolean  :latest, null: false, default: true
      t.boolean  :hex, null: false, default: false
      t.string   :version, null: false, default: "1"
    end

    add_index :glueby_timestamps, [:prev_id], unique: true
  end
end
